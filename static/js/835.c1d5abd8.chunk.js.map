{"version":3,"file":"static/js/835.c1d5abd8.chunk.js","mappings":"6OAEAA,EAAAA,EAAAA,SAAAA,QAAyB,mDAElB,IAAMC,EAAa,mCAAG,WAAMC,GAAN,0FAEZF,EAAAA,EAAAA,IAAA,WAAsB,CACjCG,OAAQ,CACND,KAAAA,EACAE,MAAO,KALc,8EASnB,IAAIC,MAAM,+BATS,wDAAH,sD,4CCyC1B,EAtCgB,WACd,OAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAOJ,EAAP,KAAaO,EAAb,KACA,GAA8CH,EAAAA,EAAAA,WAAS,GAAvD,eAAOI,EAAP,KAAwBC,EAAxB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAU,mCAAG,oGACCZ,EAAcC,GADf,OACXY,EADW,OAEjBH,EAAmBG,EAAIC,KAAKC,OAAS,GACrCR,GAAe,SAAAS,GACb,MAAM,GAAN,eAAWA,IAAX,OAAyBH,EAAIC,MAC9B,IALgB,2CAAH,qDAOhBF,GACD,GAAE,CAACX,IAEJ,IAEA,GAAsCgB,EAAAA,EAAAA,KAA9BC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,eACnB,OACE,UAAC,KAAD,YACE,SAAC,KAAD,UACGb,EAAYc,KAAI,SAAAC,GAAI,OACnB,SAACC,EAAA,EAAD,CAEEC,WAAYF,EACZG,aAAcN,EAAUO,MAAK,qBAAGC,KAAgBL,EAAKK,EAAxB,IAC7BP,eAAgB,kBAAMA,EAAeE,EAArB,GAHXA,EAAKK,GAFO,MAStBjB,IACC,SAAC,KAAD,CAAakB,QAhBM,kBAAMnB,GAAQ,SAAAQ,GAAS,OAAIA,EAAY,CAAhB,GAAvB,EAgBnB,SAAwC,gBAI/C,ECzCD,G","sources":["Api/fetchApi.js","pages/Catalog/Catalog.js","pages/Catalog/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://650842ad56db83a34d9c046e.mockapi.io/api/';\n\nexport const getAllAdverts = async page => {\n  try {\n    return await axios.get(`adverts?`, {\n      params: {\n        page,\n        limit: 8,\n      },\n    });\n  } catch (error) {\n    throw new Error('Oops, something goes wrong!');\n  }\n};\n","import { getAllAdverts } from 'Api/fetchApi';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Wrapper, Container, LoadMoreBtn } from './Catalog.styled';\nimport AdvertsCard from 'components/AdvertsCard/AdvertsCard';\nimport { useFavorites } from 'hooks/useFavorites';\n\nconst Catalog = () => {\n  const [advertsList, setAdvertsList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [showBtnLoadmore, setShowBtnLoadmore] = useState(false);\n\n  useEffect(() => {\n    const getAdverts = async () => {\n      const res = await getAllAdverts(page);\n      setShowBtnLoadmore(res.data.length > 7);\n      setAdvertsList(prevState => {\n        return [...prevState, ...res.data];\n      });\n    };\n    getAdverts();\n  }, [page]);\n\n  const handleChangePage = () => setPage(prevState => prevState + 1);\n\n  const { favorites, toggleFavorite } = useFavorites();\n  return (\n    <Wrapper>\n      <Container>\n        {advertsList.map(item => (\n          <AdvertsCard\n            key={item.id}\n            advertInfo={item}\n            isFavorite={!!favorites.find(({ id }) => id === item.id)}\n            toggleFavorite={() => toggleFavorite(item)}\n          />\n        ))}\n      </Container>\n      {showBtnLoadmore && (\n        <LoadMoreBtn onClick={handleChangePage}>Load more</LoadMoreBtn>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default Catalog;\n","import Catalog from './Catalog';\n\nexport default Catalog;\n"],"names":["axios","getAllAdverts","page","params","limit","Error","useState","advertsList","setAdvertsList","setPage","showBtnLoadmore","setShowBtnLoadmore","useEffect","getAdverts","res","data","length","prevState","useFavorites","favorites","toggleFavorite","map","item","AdvertsCard","advertInfo","isFavorite","find","id","onClick"],"sourceRoot":""}